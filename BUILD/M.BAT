ECHO OFF

MASM PMASM;
LINK PMASM;
EXE2BIN PMASM PMASM.COM

PMASM REMOVER.PMA > REMOVER.ASM
MASM REMOVER;
LINK REMOVER;
EXE2BIN REMOVER REMOVER.COM

CALL MM ALLOC
CALL MM CHKDSK
CALL MM CHKMES
CALL MM CHKPROC
CALL MM COMMAND
CALL MM COPY
CALL MM COPYPROC
CALL MM CPARSE
CALL MM DEBASM
CALL MM DEBCOM1
CALL MM DEBCOM2
CALL MM DEBCONST
CALL MM DEBDATA
CALL MM DEBMES
CALL MM DEBUASM
CALL MM DEBUG
CALL MM DEV
CALL MM DIR
CALL MM DIRCALL
CALL MM DISK
CALL MM DISKCOPY
CALL MM DISKMES
CALL MM DOSMES
CALL MM EDLIN
CALL MM EDLMES
CALL MM EDLPROC
CALL MM EXE2BIN
CALL MM EXEMES
CALL MM FAT
CALL MM FC
CALL MM FCMES
CALL MM FIND
CALL MM FINDMES
CALL MM FORMAT
CALL MM FORMES
CALL MM GENFOR
CALL MM GETSET
CALL MM HRDDRV
CALL MM INIT
CALL MM MISC
CALL MM MORE
CALL MM MOREMES
CALL MM MSCODE
CALL MM MSDOS
CALL MM PCLOCK
CALL MM PRINT
CALL MM PROFIL
CALL MM RDATA
CALL MM RECMES
CALL MM RECOVER
CALL MM ROM
CALL MM RUCODE
CALL MM SKELIO
CALL MM SORT
CALL MM SORTMES
CALL MM STDBUF
CALL MM STDCALL
CALL MM STDCTRLC
CALL MM STDFCB
CALL MM STDIO
CALL MM STDPROC
CALL MM SYS
CALL MM SYSIMES
CALL MM SYSINIT
CALL MM SYSMES
CALL MM TCODE
CALL MM TCODE2
CALL MM TCODE3
CALL MM TCODE4
CALL MM TCODE5
CALL MM TDATA
CALL MM TIME
CALL MM TSPC
CALL MM TUCODE
CALL MM UINIT
CALL MM XENIX
CALL MM XENIX2

MKDIR BIN
LINK CHKDSK+CHKPROC+CHKMES;
 EXE2BIN CHKDSK BIN\CHKDSK.COM
 DEL CHKDSK.EXE
LINK @COMLINK
 EXE2BIN COMMAND BIN\COMMAND.COM
 DEL COMMAND.EXE
LINK DEBUG+DEBCOM1+DEBCOM2+DEBASM+DEBUASM+DEBCONST+DEBMES+DEBDATA;
 EXE2BIN DEBUG BIN\DEBUG.COM
 DEL DEBUG.EXE
LINK DISKCOPY+DISKMES;
 EXE2BIN DISKCOPY BIN\DISKCOPY.COM
 DEL DISKCOPY.EXE
LINK EDLIN+EDLPROC+EDLMES;
 EXE2BIN EDLIN BIN\EDLIN.COM
 DEL EDLIN.EXE
LINK EXE2BIN+EXEMES,BIN\EXE2BIN;
LINK FC+FCMES,BIN\FC;
LINK FIND+FINDMES,BIN\FIND;
LINK FORMAT+FORMES+GENFOR;
 EXE2BIN FORMAT BIN\FORMAT.COM
 DEL FORMAT.EXE
LINK HRDDRV;
 EXE2BIN HRDDRV BIN\HRDDRV.SYS
 DEL HRDDRV.EXE
LINK MORE+MOREMES;
 EXE2BIN MORE BIN\MORE.COM
 DEL MORE.EXE
LINK @DOSLINK
 EXE2BIN MSDOS BIN\MSDOS.SYS
 DEL MSDOS.EXE
LINK PROFIL+PCLOCK;
 EXE2BIN PROFIL BIN\PROFIL.COM
 DEL PROFIL.EXE
LINK PRINT;
 EXE2BIN PRINT BIN\PRINT.COM
 DEL PRINT.EXE
LINK RECOVER+RECMES;
 EXE2BIN RECOVER BIN\RECOVER.COM
 DEL RECOVER.EXE
REM === Some symbols like BADSIZ_PRE are not found ===
REM LINK SKELIO+SYSINIT+SYSIMES;
REM  EXE2BIN SKELIO BIN\IO.SYS
REM  DEL SKELIO.EXE
REM ================
LINK SORT+SORTMES,BIN\SORT;
LINK SYS+SYSMES;
 EXE2BIN SYS BIN\SYS.COM
 DEL SYS.EXE
