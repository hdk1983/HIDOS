REM Need to make a simple wrapper for MASM first...
DEL RUNMASM.COM
DEBUG RUNMASM.COM < RUNMASM
IF NOT EXIST RUNMASM.COM GOTO END
REM Make preprocessor
RUNMASM PMASM;
LINK PMASM;
EXE2BIN PMASM PMASM.COM
REM Make set-maximum-allocation tool
RUNMASM SETMAXAL;
LINK SETMAXAL;
EXE2BIN SETMAXAL SETMAXAL.COM
REM Make remover
PMASM REMOVER.PMA > REMOVER.ASM
RUNMASM REMOVER;
LINK REMOVER;
EXE2BIN REMOVER REMOVER.COM
REM Make runrem
PMASM RUNREM.PMA > RUNREM.ASM
RUNMASM RUNREM;
LINK RUNREM;
EXE2BIN RUNREM RUNREM.COM
REM Make additional codes
RUNREM PC_BOOT,PC_BOOT,PC_BOOT;
RUNREM PC_IO,PC_IO,PC_IO;
RUNREM VM_IO,VM_IO,VM_IO;
REM Make all
RUNREM ALLOC,ALLOC,ALLOC;
RUNREM CHKDSK,CHKDSK,CHKDSK;
RUNREM CHKMES,CHKMES,CHKMES;
RUNREM CHKPROC,CHKPROC,CHKPROC;
RUNREM COMMAND,COMMAND,COMMAND;
RUNREM COPY,COPY,COPY;
RUNREM COPYPROC,COPYPROC,COPYPROC;
RUNREM CPARSE,CPARSE,CPARSE;
RUNREM DEBASM,DEBASM,DEBASM;
RUNREM DEBCOM1,DEBCOM1,DEBCOM1;
RUNREM DEBCOM2,DEBCOM2,DEBCOM2;
RUNREM DEBCONST,DEBCONST,DEBCONST;
RUNREM DEBDATA,DEBDATA,DEBDATA;
RUNREM DEBMES,DEBMES,DEBMES;
RUNREM DEBUASM,DEBUASM,DEBUASM;
RUNREM DEBUG,DEBUG,DEBUG;
RUNREM DEV,DEV,DEV;
RUNREM DIR,DIR,DIR;
RUNREM DIRCALL,DIRCALL,DIRCALL;
RUNREM DISK,DISK,DISK;
RUNREM DISKCOPY,DISKCOPY,DISKCOPY;
RUNREM DISKMES,DISKMES,DISKMES;
RUNREM DOSMES,DOSMES,DOSMES;
RUNREM EDLIN,EDLIN,EDLIN;
RUNREM EDLMES,EDLMES,EDLMES;
RUNREM EDLPROC,EDLPROC,EDLPROC;
RUNREM EXE2BIN,EXE2BIN,EXE2BIN;
RUNREM EXEMES,EXEMES,EXEMES;
RUNREM FAT,FAT,FAT;
RUNREM FC,FC,FC;
RUNREM FCMES,FCMES,FCMES;
RUNREM FIND,FIND,FIND;
RUNREM FINDMES,FINDMES,FINDMES;
RUNREM FORMAT,FORMAT,FORMAT;
RUNREM FORMES,FORMES,FORMES;
RUNREM GENFOR,GENFOR,GENFOR;
RUNREM GETSET,GETSET,GETSET;
RUNREM HRDDRV,HRDDRV,HRDDRV;
RUNREM INIT,INIT,INIT;
RUNREM MISC,MISC,MISC;
RUNREM MORE,MORE,MORE;
RUNREM MOREMES,MOREMES,MOREMES;
RUNREM MSCODE,MSCODE,MSCODE;
RUNREM MSDOS,MSDOS,MSDOS;
RUNREM PCLOCK,PCLOCK,PCLOCK;
RUNREM PRINT,PRINT,PRINT;
RUNREM PROFIL,PROFIL,PROFIL;
RUNREM RDATA,RDATA,RDATA;
RUNREM RECMES,RECMES,RECMES;
RUNREM RECOVER,RECOVER,RECOVER;
RUNREM ROM,ROM,ROM;
RUNREM RUCODE,RUCODE,RUCODE;
RUNREM SKELIO,SKELIO,SKELIO;
RUNREM SORT,SORT,SORT;
RUNREM SORTMES,SORTMES,SORTMES;
RUNREM STDBUF,STDBUF,STDBUF;
RUNREM STDCALL,STDCALL,STDCALL;
RUNREM STDCTRLC,STDCTRLC,STDCTRLC;
RUNREM STDFCB,STDFCB,STDFCB;
RUNREM STDIO,STDIO,STDIO;
RUNREM STDPROC,STDPROC,STDPROC;
RUNREM SYS,SYS,SYS;
RUNREM SYSIMES,SYSIMES,SYSIMES;
RUNREM SYSINIT,SYSINIT,SYSINIT;
RUNREM SYSMES,SYSMES,SYSMES;
RUNREM TCODE,TCODE,TCODE;
RUNREM TCODE2,TCODE2,TCODE2;
RUNREM TCODE3,TCODE3,TCODE3;
RUNREM TCODE4,TCODE4,TCODE4;
RUNREM TCODE5,TCODE5,TCODE5;
RUNREM TDATA,TDATA,TDATA;
RUNREM TIME,TIME,TIME;
RUNREM TSPC,TSPC,TSPC;
RUNREM TUCODE,TUCODE,TUCODE;
RUNREM UINIT,UINIT,UINIT;
RUNREM XENIX,XENIX,XENIX;
RUNREM XENIX2,XENIX2,XENIX2;

REM Link
MKDIR BIN
LINK CHKDSK+CHKPROC+CHKMES;
 EXE2BIN CHKDSK BIN\CHKDSK.COM
 DEL CHKDSK.EXE
LINK @COMLINK
 EXE2BIN COMMAND BIN\COMMAND.COM
 DEL COMMAND.EXE
LINK DEBUG+DEBCOM1+DEBCOM2+DEBASM+DEBUASM+DEBCONST+DEBMES+DEBDATA;
 EXE2BIN DEBUG BIN\DEBUG.COM
 DEL DEBUG.EXE
LINK DISKCOPY+DISKMES;
 EXE2BIN DISKCOPY BIN\DISKCOPY.COM
 DEL DISKCOPY.EXE
LINK EDLIN+EDLPROC+EDLMES;
 EXE2BIN EDLIN BIN\EDLIN.COM
 DEL EDLIN.EXE
LINK EXE2BIN+EXEMES,BIN\EXE2BIN;
LINK FC+FCMES,BIN\FC;
LINK FIND+FINDMES,BIN\FIND;
LINK FORMAT+FORMES+GENFOR;
 EXE2BIN FORMAT BIN\FORMAT.COM
 DEL FORMAT.EXE
LINK HRDDRV;
 EXE2BIN HRDDRV BIN\HRDDRV.SYS
 DEL HRDDRV.EXE
LINK MORE+MOREMES;
 EXE2BIN MORE BIN\MORE.COM
 DEL MORE.EXE
LINK @DOSLINK
 EXE2BIN MSDOS BIN\MSDOS.SYS
 DEL MSDOS.EXE
LINK PROFIL+PCLOCK;
 EXE2BIN PROFIL BIN\PROFIL.COM
 DEL PROFIL.EXE
LINK PRINT;
 EXE2BIN PRINT BIN\PRINT.COM
 DEL PRINT.EXE
LINK RECOVER+RECMES;
 EXE2BIN RECOVER BIN\RECOVER.COM
 DEL RECOVER.EXE
LINK SKELIO+SYSINIT+SYSIMES;
 EXE2BIN SKELIO BIN\SKELIO.SYS < SKELIO.ADR
 DEL SKELIO.EXE
LINK SORT+SORTMES,BIN\SORT;
 SETMAXAL BIN\SORT.EXE 1
LINK SYS+SYSMES;
 EXE2BIN SYS BIN\SYS.COM
 DEL SYS.EXE

LINK PC_IO+SYSINIT+SYSIMES,BIN\PC_IO;
 EXE2BIN BIN\PC_IO BIN\PC_IO.SYS < PC_IO.ADR
LINK PC_BOOT;
 EXE2BIN PC_BOOT BIN\PC_BOOT.BIN
 DEL PC_BOOT.EXE

LINK VM_IO+SYSINIT+SYSIMES,VM_IO;
 EXE2BIN VM_IO BIN\VM_IO.SYS < VM_IO.ADR
 DEL VM_IO.EXE

:END
